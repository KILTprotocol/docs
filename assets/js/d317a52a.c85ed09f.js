"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8404],{905:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>r,contentTitle:()=>d,default:()=>l,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var n=i(17624),s=i(4552);const o={id:"did",title:"KILT Decentralized Identifiers (DIDs)"},d=void 0,a={id:"concepts/did",title:"KILT Decentralized Identifiers (DIDs)",description:"A KILT decentralized identifier (DID) is a string of letters and numbers uniquely identifying each KILT user.",source:"@site/docs/concepts/02_did.md",sourceDirName:"concepts",slug:"/concepts/did",permalink:"/docs/concepts/did",draft:!1,unlisted:!1,editUrl:"https://github.com/KILTprotocol/docs/edit/master/docs/concepts/02_did.md",tags:[],version:"current",lastUpdatedAt:1718264724,formattedLastUpdatedAt:"Jun 13, 2024",sidebarPosition:2,frontMatter:{id:"did",title:"KILT Decentralized Identifiers (DIDs)"},sidebar:"concepts",previous:{title:"What is KILT?",permalink:"/docs/concepts/what-is-kilt"},next:{title:"web3names",permalink:"/docs/concepts/web3names"}},r={},c=[{value:"Light DIDs",id:"light-dids",level:2},{value:"Full DIDs",id:"full-dids",level:2},{value:"Migrating a light DID to a full DID",id:"migrating-a-light-did-to-a-full-did",level:2},{value:"Storing a DID",id:"storing-a-did",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,s.M)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"A KILT decentralized identifier (DID) is a string of letters and numbers uniquely identifying each KILT user."}),"\n",(0,n.jsx)(t.p,{children:"Think of a DID as a container of different keys all under the control of the same DID subject."}),"\n",(0,n.jsx)(t.admonition,{title:"DID spec",type:"info",children:(0,n.jsxs)(t.p,{children:["For the official W3C DID spec, read the ",(0,n.jsx)(t.a,{href:"https://www.w3.org/TR/did-core/",children:"DID Core spec page"}),"; for the official KILT DID method specification, read the ",(0,n.jsx)(t.a,{href:"https://github.com/KILTprotocol/spec-kilt-did",children:"KILT DID spec page"}),"."]})}),"\n",(0,n.jsxs)(t.p,{children:["The simplest type of KILT DID is a ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.a,{href:"#light-dids",children:"light DID"})}),", because you can generate and use it offline and no connection with the KILT blockchain.\nAlthough cheap, light DIDs aren't flexible and are only suitable for low-security use cases.\nIn more complex use cases, you need an on-chain ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.a,{href:"#full-dids",children:"full DID"})}),", which allow the subject to store different keys and key types and replace them over time by using the KILT blockchain."]}),"\n",(0,n.jsx)(t.h2,{id:"light-dids",children:"Light DIDs"}),"\n",(0,n.jsx)(t.p,{children:"The following is an example of a light KILT DID:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"did:kilt:light:014nv4phaKc4EcwENdRERuMF79ZSSB5xvnAk3zNySSbVbXhSwS\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Beyond the standard prefix ",(0,n.jsx)(t.code,{children:"did:kilt:"}),", the ",(0,n.jsx)(t.code,{children:"light:"})," component indicates that this DID is a light DID, hence it can be resolved and used offline."]}),"\n",(0,n.jsxs)(t.p,{children:["Light DIDs optionally support the specification of an ",(0,n.jsx)(t.strong,{children:"encryption key"})," (of one of the supported key types) and services, which are both serialized, encoded, and added at the end of the DID, like the following:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"did:kilt:light:014nv4phaKc4EcwENdRERuMF79ZSSB5xvnAk3zNySSbVbXhSwS:z1ERkVVjngcarMbJn6YssB1PYULescQneSSEfCTJwYbzT2aK8fzH5WPsp3G4UVuLWWfsTayketnFV74YCnyboHBUvqEs6J8jdYY5dK2XeqCCs653Sf9XVH4RN2WvPrDFZXzzKf3KigvcaE7kkaEwLZvcas3U1M2ZDZCajDG71winwaRNrDtcqkJL9V6Q5yKNWRacw7hJ58d\n"})}),"\n",(0,n.jsx)(t.h2,{id:"full-dids",children:"Full DIDs"}),"\n",(0,n.jsx)(t.p,{children:"The creation of a full DID requires interaction with the KILT blockchain.\nTherefore, a KILT address with enough funds to pay the transaction fees and the required deposit must submit the DID creation operation."}),"\n",(0,n.jsx)(t.p,{children:"The following is an example of a full KILT DID:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"did:kilt:4rp4rcDHP71YrBNvDhcH5iRoM3YzVoQVnCZvQPwPom9bjo2e\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Above, there is no ",(0,n.jsx)(t.code,{children:"light:"})," component.\nThis indicates that the DID is a full DID and that you can't derive the keys associated with it from the DID identifier, but retrieve them from the KILT blockchain."]}),"\n",(0,n.jsxs)(t.p,{children:["Along with an authentication key, encryption key, and services, a full DID also supports an ",(0,n.jsx)(t.strong,{children:"attestation key"}),", which you must use to write CTypes and attestations on the blockchain, and a ",(0,n.jsx)(t.strong,{children:"delegation key"})," to write delegations on the blockchain."]}),"\n",(0,n.jsx)(t.h2,{id:"migrating-a-light-did-to-a-full-did",children:"Migrating a light DID to a full DID"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"migration"})," of a DID means that a light, off-chain DID is anchored to the KILT blockchain, supporting all the features that full DIDs provide.\nIn the current version (v1) of the KILT DID protocol, a light DID of the form ",(0,n.jsx)(t.code,{children:"did:kilt:light:014nv4phaKc4EcwENdRERuMF79ZSSB5xvnAk3zNySSbVbXhSwS"})," would become a full DID of the form ",(0,n.jsx)(t.code,{children:"did:kilt:4nv4phaKc4EcwENdRERuMF79ZSSB5xvnAk3zNySSbVbXhSwS"}),"."]}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["The identifier of the two DIDs, apart from the initial ",(0,n.jsx)(t.code,{children:"01"})," sequence of the light DID, are the same since both DIDs are derived from the same seed."]})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Once you migrate a light DID, you can only present all the credentials collected by the light DID using the migrated on-chain full DID."})}),"\n",(0,n.jsx)(t.p,{children:"This restriction is by design, as it's assumed that the user had valid reasons to migrate the DID, as on-chain DIDs offer greater security guarantees.\nKILT thus rejects light DID signatures even if the original claim in the credential was generated with that off-chain DID."}),"\n",(0,n.jsx)(t.admonition,{type:"tip",children:(0,n.jsxs)(t.p,{children:["For a detailed developer-oriented guide to KILT DIDs, read the ",(0,n.jsx)(t.a,{href:"/docs/develop/sdk/cookbook/dids/light-did-creation",children:"DID Cookbook section"}),"."]})}),"\n",(0,n.jsx)(t.h2,{id:"storing-a-did",children:"Storing a DID"}),"\n",(0,n.jsx)(t.p,{children:"Storing a DID on the KILT blockchain requires a deposit, consisting of a base deposit and an additional fee. The base deposit is a fixed amount of 4 KILT, while the additional fee is 0.05 KILT."}),"\n",(0,n.jsx)(t.p,{children:"In addition to the base deposit and fee, the total deposit increases based on the storage space used by the DID. Each byte of storage occupied by the DID requires a deposit of 50 micro KILT (0.000005 KILT)."}),"\n",(0,n.jsx)(t.p,{children:"The inclusion of services and keys determines the overall size of the DID.\nThe more services and keys in the DID, the larger the storage space required and, consequently, the higher the additional deposit."}),"\n",(0,n.jsx)(t.p,{children:"When updating the DID, the deposit is automatically adjusted to match the updated size. This ensures that the deposit accurately reflects the current storage requirements of the DID, whether they increase or decrease."}),"\n",(0,n.jsx)(t.p,{children:"You can reclaim the deposit when the DID is deleted from the blockchain, allowing users to retrieve the deposited amount. However, the additional fee can't be refunded once paid."})]})}function l(e={}){const{wrapper:t}={...(0,s.M)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},4552:(e,t,i)=>{i.d(t,{I:()=>a,M:()=>d});var n=i(11504);const s={},o=n.createContext(s);function d(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);