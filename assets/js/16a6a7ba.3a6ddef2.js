(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[615],{25380:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=25380,e.exports=t},51909:function(e,t,n){"use strict";var i=n(83117),o=n(67294),a=n(52263),r=n(73945),s=n(28182),d=n(12175),l=n(65488),c=n(85162),p=n(90814);t.Z=e=>{let{children:t,fileName:n,...u}=e;const h=t,{code:m}=(0,d.transform)(h,{plugins:["transform-typescript"],retainLines:!0}),{siteConfig:{customFields:{prettierConfig:k}}}=(0,a.Z)(),D=(0,r.format)(m,{parser:s.parsers.babel.parse,...k}),g=n?`${n}.ts`:void 0,f=n?`${n}.js`:void 0;return o.createElement(l.Z,{groupId:"ts-js-choice"},o.createElement(c.Z,{value:"ts",label:"Typescript",default:!0},o.createElement(p.Z,(0,i.Z)({},u,{className:"language-ts",title:g}),h)),o.createElement(c.Z,{value:"js",label:"Javascript"},o.createElement(p.Z,(0,i.Z)({},u,{className:"language-js",title:f}),D)))}},273:function(e,t,n){"use strict";n.r(t),n.d(t,{assets:function(){return l},contentTitle:function(){return s},default:function(){return u},frontMatter:function(){return r},metadata:function(){return d},toc:function(){return c}});var i=n(83117),o=(n(67294),n(3905)),a=n(51909);const r={id:"light-did-creation",title:"Create a Light DID"},s=void 0,d={unversionedId:"develop/sdk/cookbook/dids/light-did-creation",id:"develop/sdk/cookbook/dids/light-did-creation",title:"Create a Light DID",description:"The creation of a light DID requires the generation of some keying material for keys that are to be used for authentication and encryption.",source:"@site/docs/develop/01_sdk/02_cookbook/01_dids/01_light_did_creation.md",sourceDirName:"develop/01_sdk/02_cookbook/01_dids",slug:"/develop/sdk/cookbook/dids/light-did-creation",permalink:"/docs/develop/sdk/cookbook/dids/light-did-creation",draft:!1,editUrl:"https://github.com/KILTprotocol/docs/edit/master/docs/develop/01_sdk/02_cookbook/01_dids/01_light_did_creation.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"light-did-creation",title:"Create a Light DID"},sidebar:"sdk",previous:{title:"Quickstart",permalink:"/docs/develop/sdk/quickstart"},next:{title:"Create a Full DID",permalink:"/docs/develop/sdk/cookbook/dids/full-did-creation"}},l={},c=[],p={toc:c};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,i.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The creation of a light DID requires the generation of some keying material for keys that are to be used for authentication and encryption.\nFor the sake of ease of use, the example snippets below show how to use keys generated with a ",(0,o.kt)("inlineCode",{parentName:"p"},"Keyring"),", provided also by the ",(0,o.kt)("inlineCode",{parentName:"p"},"@polkadot/api")," library, to generate key pairs that are kept in memory and disappear at the end of the program execution, unless saved to some persistent storage."),(0,o.kt)("p",null,"The following is an example of how to create a light DID after creating an authentication keypair."),(0,o.kt)(a.Z,{mdxType:"TsJsBlock"},"import * as Kilt from '@kiltprotocol/sdk-js'\n\nexport function createSimpleLightDid({\n  authentication\n}: {\n  authentication: Kilt.NewLightDidVerificationKey\n}): Kilt.DidDocument {\n  // Create a light DID from the generated authentication key.\n  const lightDID = Kilt.Did.createLightDidDocument({\n    authentication: [authentication]\n  })\n  console.log(lightDID.uri)\n\n  return lightDID\n}\n"),(0,o.kt)("p",null,"For cases in which an encryption key and some service endpoints also need to be added to a light DID:"),(0,o.kt)(a.Z,{mdxType:"TsJsBlock"},"import * as Kilt from '@kiltprotocol/sdk-js'\n\nexport function createCompleteLightDid({\n  authentication,\n  encryption\n}: {\n  authentication: Kilt.NewLightDidVerificationKey\n  encryption: Kilt.NewDidEncryptionKey\n}): Kilt.DidDocument {\n  // Example service for the DID.\n  const service: Kilt.DidServiceEndpoint[] = [\n    {\n      id: '#my-service',\n      type: ['KiltPublishedCredentialCollectionV1'],\n      serviceEndpoint: ['http://example.domain.org']\n    }\n  ]\n\n  // Create the KILT light DID with the information generated.\n  const lightDID = Kilt.Did.createLightDidDocument({\n    authentication: [authentication],\n    keyAgreement: [encryption],\n    service\n  })\n  console.log(lightDID.uri)\n\n  return lightDID\n}\n"),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"In KILT, light DIDs are meant to be used in one of two cases:"),(0,o.kt)("ol",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ol"},"As ",(0,o.kt)("em",{parentName:"li"},"ephemeral, one-time identifiers")," when establishing new communication channels with untrusted parties."),(0,o.kt)("li",{parentName:"ol"},"As an ",(0,o.kt)("em",{parentName:"li"},"entrypoint into the KILT ecosystem"),", i.e., to obtain one's first credentials and get acquainted with KILT.")),(0,o.kt)("p",{parentName:"admonition"},"As such, light DIDs do not support updates of any sort, but they retain the same identifier until they are upgraded to full DIDs.\nThey are not intended for use in complex and/or high-security use cases.\nIn those situations, a full DID should be used.\nVisit the ",(0,o.kt)("a",{parentName:"p",href:"/docs/develop/sdk/cookbook/dids/full-did-creation"},"next section")," to see how to create and manage full DIDs.")))}u.isMDXComponent=!0}}]);