"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5336],{5313:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>f,contentTitle:()=>u,default:()=>x,frontMatter:()=>h,metadata:()=>p,toc:()=>m});var a=n(5893),r=n(1151),o=n(4866),i=n(5162);n(9578);function s(e){const t={code:"code",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"Please select your target network:"}),"\n",(0,a.jsx)("div",{className:"nested-tab",children:(0,a.jsxs)(o.Z,{groupId:"exec-network",defaultValue:"Spiritnet",children:[(0,a.jsxs)(i.Z,{value:"Spiritnet",label:"Spiritnet",attributes:{"data-value":"magenta"},children:[(0,a.jsxs)(t.p,{children:["To start the ",(0,a.jsx)(t.strong,{children:"Spiritnet"})," collator container, run:"]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash=",children:'docker run -p 127.0.0.1:9944:9944 -p 30333:30333 -p 30334:30334 \\\n  -v ~/data:/data kiltprotocol/kilt-node:latest \\\n  --chain=spiritnet \\\n  --runtime=spiritnet \\\n  --rpc-port=9944 \\\n  --rpc-cors=all \\\n  --rpc-methods=unsafe \\\n  --unsafe-rpc-external \\\n  --name="name of collator" \\\n  --execution=wasm \\\n  --listen-addr=/ip4/0.0.0.0/tcp/30333 \\\n  --base-path=/data/parachain \\\n  --keystore-path=/data/keystore \\\n  --collator \\\n  -- \\\n  --chain=polkadot \\\n  --listen-addr=/ip4/0.0.0.0/tcp/30334 \\\n  --base-path=/data/relay \\\n  --execution=wasm\n'})})]}),(0,a.jsxs)(i.Z,{value:"Peregrine",label:"Peregrine",attributes:{"data-value":"magenta"},children:[(0,a.jsxs)(t.p,{children:["To start the ",(0,a.jsx)(t.strong,{children:"Peregrine"})," Collator container, run:"]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash=",children:'docker run -p 127.0.0.1:9944:9944 -p 30333:30333 -p 30334:30334 \\\n  -v ~/data:/data kiltprotocol/kilt-node:latest \\\n  --chain=/node/dev-specs/kilt-parachain/peregrine-kilt.json \\\n  --runtime=peregrine \\\n  --rpc-port=9944 \\\n  --rpc-cors=all \\\n  --rpc-methods=unsafe \\\n  --unsafe-rpc-external \\\n  --name="name of collator" \\\n  --execution=wasm \\\n  --listen-addr=/ip4/0.0.0.0/tcp/30333 \\\n  --base-path=/data/parachain \\\n  --keystore-path=/data/keystore \\\n  --collator \\\n  -- \\\n  --chain=/node/dev-specs/kilt-parachain/peregrine-relay.json \\\n  --listen-addr=/ip4/0.0.0.0/tcp/30334 \\\n  --base-path=/data/relay \\\n  --execution=wasm\n'})})]})]})})]})}function l(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(s,{...e})}):s(e)}function c(e){const t={code:"code",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"Please select your target network:"}),"\n",(0,a.jsx)("div",{className:"nested-tab",children:(0,a.jsxs)(o.Z,{groupId:"exec-network",defaultValue:"Spiritnet",children:[(0,a.jsxs)(i.Z,{value:"Spiritnet",label:"Spiritnet",attributes:{"data-value":"magenta"},children:[(0,a.jsxs)(t.p,{children:["To join the ",(0,a.jsx)("strong",{children:"Spiritnet"})," network, run:"]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash=",children:'./target/release/kilt-parachain \\\n  --chain=spiritnet \\\n  --runtime=spiritnet \\\n  --rpc-port=9944 \\\n  --rpc-cors=all \\\n  --rpc-methods=unsafe \\\n  --name="name of collator" \\\n  --execution=wasm \\\n  --listen-addr=/ip4/0.0.0.0/tcp/30333 \\\n  --base-path=$HOME/data/parachain \\\n  --keystore-path=$HOME/data/keystore \\\n  --collator \\\n  -- \\\n  --chain=polkadot \\\n  --listen-addr=/ip4/0.0.0.0/tcp/30334 \\\n  --base-path=$HOME/data/relay \\\n  --execution=wasm\n'})})]}),(0,a.jsxs)(i.Z,{value:"Peregrine",label:"Peregrine",attributes:{"data-value":"magenta"},children:[(0,a.jsxs)(t.p,{children:["To join the ",(0,a.jsx)("strong",{children:"Peregrine"}),"network, run:"]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash=",children:'./target/release/kilt-parachain \\\n  --chain=./dev-specs/kilt-parachain/peregrine-kilt.json \\\n  --runtime=peregrine \\\n  --rpc-port=9944 \\\n  --rpc-cors=all \\\n  --rpc-methods=unsafe \\\n  --name="name of collator" \\\n  --execution=wasm \\\n  --listen-addr=/ip4/0.0.0.0/tcp/30333 \\\n  --base-path=$HOME/data/parachain \\\n  --keystore-path=$HOME/data/keystore \\\n  --collator \\\n  -- \\\n  --chain=./dev-specs/kilt-parachain/peregrine-relay.json \\\n  --listen-addr=/ip4/0.0.0.0/tcp/30334 \\\n  --base-path=$HOME/data/relay \\\n  --execution=wasm\n'})})]})]})})]})}function d(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}const h={id:"setup-node",title:"Set Up a Node"},u=void 0,p={id:"participate/staking/become_a_collator/setup-node",title:"Set Up a Node",description:"There are several ways to build and run a collator node.",source:"@site/docs/participate/01_staking/01_become_a_collator/03_setup_node.md",sourceDirName:"participate/01_staking/01_become_a_collator",slug:"/participate/staking/become_a_collator/setup-node",permalink:"/docs/participate/staking/become_a_collator/setup-node",draft:!1,unlisted:!1,editUrl:"https://github.com/KILTprotocol/docs/edit/master/docs/participate/01_staking/01_become_a_collator/03_setup_node.md",tags:[],version:"current",lastUpdatedAt:1707224184,formattedLastUpdatedAt:"Feb 6, 2024",sidebarPosition:3,frontMatter:{id:"setup-node",title:"Set Up a Node"},sidebar:"staking",previous:{title:"Minimum Hardware Requirements",permalink:"/docs/participate/staking/become_a_collator/hardware-requirements"},next:{title:"Set and Rotate Session Keys",permalink:"/docs/participate/staking/become_a_collator/session-keys"}},f={},m=[{value:"Configuration",id:"configuration",level:2},{value:"RPC and WS Endpoints",id:"rpc-and-ws-endpoints",level:3},{value:"WASM Runtime Execution",id:"wasm-runtime-execution",level:3},{value:"Specify the Right Chainspec",id:"specify-the-right-chainspec",level:3},{value:"Specify the Blockchain Storage Path",id:"specify-the-blockchain-storage-path",level:3},{value:"Obtain the Node Executable",id:"obtain-the-node-executable",level:2},{value:"Start the Node",id:"start-the-node",level:2},{value:"Sync the Blockchain State",id:"sync-the-blockchain-state",level:2}];function b(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["There are several ways to build and run a collator node.\nHere, we show both how to use a Docker image and how to compile the source code directly from ",(0,a.jsx)(t.a,{href:"https://github.com/KILTprotocol/kilt-node",children:"our chain repository"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"There are currently two different runtimes (i.e., two different parachain environments) that a KILT collator can be part of:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Spiritnet"}),": the official public network, which contains only stable and thoroughly-tested features."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Peregrine"}),": the public test network whose runtime is as close to that of Spiritnet as possible. It can be used to try things out before executing them on the production Spiritnet chain, which involves spending tokens that have real monetary value."]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"Each runtime has its own benchmark measurements."}),"\n",(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsxs)(t.p,{children:["The remainder of this guide explaining how to set up and run a collator is mainly for the official ",(0,a.jsx)(t.strong,{children:"Spiritnet"})," parachain.\nHowever, we recommend trying out the setup on our Peregrine testnet first.\nHence, at each step where it is applicable, we indicate what differs between the Peregrine and Spiritnet configuration for the collator node to join either network."]})}),"\n",(0,a.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,a.jsxs)(t.p,{children:["Running a collator requires a few configuration parameters.\nSome of the parameters might appear twice in the command to start the collator, because a parachain collator actually runs two blockchains.\nThe parameters that are listed before the ",(0,a.jsx)(t.code,{children:"--"})," are related to the parachain node itself (the KILT blockchain), whereas the parameters following the ",(0,a.jsx)(t.code,{children:"--"})," are related to the Relay Chain, e.g., Kusama or Polkadot."]}),"\n",(0,a.jsx)(t.p,{children:"The following is a description of some of the parameters that can be set when spinning up a parachain collator node."}),"\n",(0,a.jsx)(t.h3,{id:"rpc-and-ws-endpoints",children:"RPC and WS Endpoints"}),"\n",(0,a.jsx)(t.p,{children:"As a collator, you need to link your session keys to your collator account.\nThese session keys can be generated by calling an RPC endpoint that the collator optionally exposes.\nExposing the RPC endpoint can be done using the following parameters:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"--rpc-port=9944\n--rpc-cors=all\n--rpc-methods=unsafe\n--unsafe-rpc-external // ONLY for Docker-based setups\n"})}),"\n",(0,a.jsx)(t.p,{children:"Exposing the RPC endpoint of a collator does not imply that it becomes accessible via the PolkadotJS Apps interface, because this requires a WebSocket to connect to the node."}),"\n",(0,a.jsxs)(t.p,{children:["By default, the WebSocket port used by the node is configured to be ",(0,a.jsx)(t.code,{children:"9944"}),", but it can be changed by specifying a different value with ",(0,a.jsx)(t.code,{children:"--rpc-port=<rpc_port>"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["Connecting from a remote host to either the collator RPC endpoint or WS endpoint requires explicitly exposing the endpoint to the public with the ",(0,a.jsx)(t.code,{children:"--rpc-external"})," option."]}),"\n",(0,a.jsx)(t.admonition,{type:"danger",children:(0,a.jsxs)(t.p,{children:["Be aware that it is highly discouraged to publicly expose an RPC endpoint, especially if it allows the execution of unsafe RPC calls!\nYou should be the only one able to call the RPC endpoint.\nFor a secure setup, follow the instructions in the previous section about ",(0,a.jsx)(t.a,{href:"/docs/participate/staking/become_a_collator/session-keys",children:"generating the session keys"}),"."]})}),"\n",(0,a.jsx)(t.h3,{id:"wasm-runtime-execution",children:"WASM Runtime Execution"}),"\n",(0,a.jsxs)(t.p,{children:["A KILT collator node should use the ",(0,a.jsx)(t.code,{children:"--execution=wasm"})," parameter for both the Relay Chain and parachain collation.\nThe alternative to WASM runtime execution is native runtime execution, which might be faster but can, in some cases, deviate from the WASM execution logic and result in a different state.\nWhen this happens, the collator node will crash and will stop synchronizing with the network and stop producing blocks.\nSince the WASM runtime logic is part of the blockchain state itself and hence represents the single source of truth, all nodes should execute the WASM version of the runtime logic."]}),"\n",(0,a.jsx)(t.h3,{id:"specify-the-right-chainspec",children:"Specify the Right Chainspec"}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"--chain"})," parameter indicates which blockchain the KILT collator node will join.\nThis parameter must be specified for both the parachain ",(0,a.jsx)(t.strong,{children:"and"})," the Relay Chain, since both chains are, as a matter of fact, separate blockchains.\nThe KILT parachain accepts an additional parameter to select the environment to use for the WASM runtime execution.\nThis can either be ",(0,a.jsx)(t.code,{children:"peregrine"})," or ",(0,a.jsx)(t.code,{children:"spiritnet"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["Hence, to start a collator node for the Spiritnet network, the parameter would be ",(0,a.jsx)(t.code,{children:"--chain=spiritnet"}),".\nUnfortunately, there is no hardcoded chain spec for the Peregrine network, so the full path of the chainspec file must be provided ",(0,a.jsx)(t.code,{children:"--chain=/node/dev-specs/kilt-parachain/peregrine-kilt.json"}),".\nPlease refer to the ",(0,a.jsx)(t.a,{href:"https://github.com/KILTprotocol/kilt-node/blob/develop/dev-specs/kilt-parachain/peregrine-kilt.json",children:"KILT node repository"})," or the ",(0,a.jsx)(t.a,{href:"https://hub.docker.com/r/kiltprotocol/kilt-node/tags",children:"Docker image"})," for more information."]}),"\n",(0,a.jsx)(t.h3,{id:"specify-the-blockchain-storage-path",children:"Specify the Blockchain Storage Path"}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"--base-path"})," parameter specifies where all the persistent files must be stored.\nBy default, the session keys will also be stored in the ",(0,a.jsx)(t.em,{children:"base path"}),", but we recommend separating them from the other files.\nThis makes sure that the keyfiles are not accidentally lost or published when the blockchain database is either backed up or restored.\nYou can configure where to store the session keys using the ",(0,a.jsx)(t.code,{children:"--keystore-path"})," option.\nSince the collator will collate only for the parachain, there is no need to add this to the relaychain part of the command."]}),"\n",(0,a.jsx)(t.h2,{id:"obtain-the-node-executable",children:"Obtain the Node Executable"}),"\n",(0,a.jsxs)(o.Z,{groupId:"exec-strategy",defaultValue:"Docker",values:[{label:"Binary",value:"Binary"},{label:"Docker",value:"Docker"}],children:[(0,a.jsxs)(i.Z,{value:"Binary",children:[(0,a.jsxs)(t.p,{children:["In order to build the KILT full node executable, you need to have ",(0,a.jsx)(t.a,{href:"https://www.rust-lang.org/tools/install",children:"rustup and Rust installed"}),"."]}),(0,a.jsxs)(t.p,{children:["After cloning the repository, you can build the executable by running the ",(0,a.jsx)(t.code,{children:"cargo build"})," command below from the root directory."]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"# Clone the repository\ngit clone https://github.com/KILTprotocol/kilt-node.git\n# Check out master branch\ngit checkout master\n# Set up the build environment by installing the Rust compiler.\n./scripts/init.sh\n# Build the executable from source enabling all the optimizations with --release.\ncargo build --release -p kilt-parachain\n"})}),(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsxs)(t.p,{children:["You must not use the default ",(0,a.jsx)(t.code,{children:"develop"})," branch to build the executable.\nInstead, the ",(0,a.jsx)(t.a,{href:"https://github.com/KILTprotocol/kilt-node/releases",children:"latest release"})," from ",(0,a.jsx)(t.code,{children:"master"})," should be used."]})}),(0,a.jsxs)(t.p,{children:["The compiled executable can be found in ",(0,a.jsx)(t.code,{children:"./target/release/kilt-parachain"})," after the build process completes successfully."]})]}),(0,a.jsxs)(i.Z,{value:"Docker",children:[(0,a.jsxs)(t.p,{children:["Simply pull the ",(0,a.jsx)(t.a,{href:"https://hub.docker.com/r/kiltprotocol/kilt-node/tags",children:"latest Docker image"}),":"]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"docker pull kiltprotocol/kilt-node:latest\n"})})]})]}),"\n",(0,a.jsx)(t.h2,{id:"start-the-node",children:"Start the Node"}),"\n",(0,a.jsxs)(o.Z,{groupId:"exec-strategy",defaultValue:"Docker",values:[{label:"Binary",value:"Binary"},{label:"Docker",value:"Docker"}],children:[(0,a.jsxs)(i.Z,{value:"Binary",children:[(0,a.jsx)(d,{}),(0,a.jsxs)(t.p,{children:["In either case, if the node needs to be reachable via PolkadotJS Apps, the ",(0,a.jsx)(t.code,{children:"--rpc-external"})," flag must be added to the collator options, before the ",(0,a.jsx)(t.code,{children:"--"})," divider."]})]}),(0,a.jsxs)(i.Z,{value:"Docker",children:[(0,a.jsx)(l,{}),(0,a.jsxs)(t.p,{children:["In either case, if the node needs to be reachable via PolkadotJS Apps, the ",(0,a.jsx)(t.code,{children:"--rpc-external"})," flag must be added to the collator options, before the ",(0,a.jsx)(t.code,{children:"--"})," divider, and the WS port must be exposed from the container with an additional ",(0,a.jsx)(t.code,{children:"-p 9944:9944"})," parameter.\nMake sure that you only expose the websocket port publicly if you are not running a collator."]}),(0,a.jsxs)(t.p,{children:["In addition to the websocket, you need to expose the ports for p2p connections.\nIn the the command above these are ",(0,a.jsx)(t.code,{children:"30333"})," for the parachain and ",(0,a.jsx)(t.code,{children:"30334"})," for the relaychain.\nMake sure you configure your firewall in a way that allows incoming and outgoing connections to these ports."]}),(0,a.jsxs)(t.p,{children:["The Docker command will map the database files for the Relay Chain and parachain as well as the keystore directory to ",(0,a.jsx)(t.code,{children:"~/data"})," on the host system using the flag ",(0,a.jsx)(t.code,{children:"-v $HOME/data:/data"}),".\nThat way the blockchain database files are not lost when and if the Docker container is removed and can be mounted back on the next containers."]}),(0,a.jsxs)(t.p,{children:["The Docker container runs as an user with id 1000 and will try to access the mapped volume and the files it contains.\nIf the files are not owned by a user with id 1000, this will result in an error.\nIf that is the case, run ",(0,a.jsx)(t.code,{children:"sudo chown -R 1000:1000 $HOME/data"})," to give the container access."]})]})]}),"\n",(0,a.jsx)(t.h2,{id:"sync-the-blockchain-state",children:"Sync the Blockchain State"}),"\n",(0,a.jsxs)(t.p,{children:["Before a collator can author blocks, the node needs to fully sync up with both the parachain and the Relay Chain.\nDepending on the size of the blockchain states, it may take a number of hours to few days for the node to catch up.\nMore details can be found on the ",(0,a.jsx)(t.a,{href:"https://wiki.polkadot.network/docs/maintain-guides-how-to-validate-polkadot#synchronize-chain-data",children:"Polkadot network docs"}),"."]}),"\n",(0,a.jsx)(t.admonition,{title:"Example of node sync:",type:"note",children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-Example",metastring:"of node sync",children:"2021-06-17 02:34:34 \ud83d\udd0d Discovered new external address for our node: /ip4/100.102.231.64/tcp/30333/ws/p2p/12D3KooWLE7ivpuXJQpFVP4fuuutAqEsk8nrNEpuR3tddqnXgLPB\n2021-06-17 02:34:36 \u2699\ufe0f  Syncing 409.2 bps, target=#8062689 (5 peers), best: #3477 (0x63ad\u2026e046), finalized #3072 (0x0e4c\u2026f587), \u2b07 153.2kiB/s \u2b06 12.9kiB/s\n2021-06-17 02:34:37 \ud83d\udd0d Discovered new external address for our node: /ip4/100.111.175.0/tcp/30333/ws/p2p/12D3KooWLE7ivpuXJQpFVP4fuuutAqEsk8nrNEpuR3tddqnXgLPB\n2021-06-17 02:34:38 \ud83d\udd0d Discovered new external address for our node: /ip4/100.100.176.0/tcp/30333/ws/p2p/12D3KooWLE7ivpuXJQpFVP4fuuutAqEsk8nrNEpuR3tddqnXgLPB\n2021-06-17 02:34:41 \u2699\ufe0f  Syncing 386.2 bps, target=#8062690 (7 peers), best: #5409 (0x1d76\u20268c3d), finalized #5121 (0x8ad1\u2026b6dc), \u2b07 96.1kiB/s \u2b06 10.9kiB/s\n2021-06-17 02:34:46 \u2699\ufe0f  Syncing 394.8 bps, target=#8062691 (11 peers), best: #7383 (0x0689\u20266f1e), finalized #7168 (0x72a9\u20268d8c), \u2b07 352.9kiB/s \u2b06 5.1kiB/s\n2021-06-17 02:34:51 \u2699\ufe0f  Syncing 347.0 bps, target=#8062692 (12 peers), best: #9118 (0x66fc\u2026cce3), finalized #8704 (0x14c9\u2026705e), \u2b07 62.7kiB/s \u2b06 1.7kiB/s\n"})})})]})}function x(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(b,{...e})}):b(e)}},5162:(e,t,n)=>{n.d(t,{Z:()=>i});n(7294);var a=n(512);const r={tabItem:"tabItem_Ymn6"};var o=n(5893);function i(e){let{children:t,hidden:n,className:i}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,a.Z)(r.tabItem,i),hidden:n,children:t})}},4866:(e,t,n)=>{n.d(t,{Z:()=>w});var a=n(7294),r=n(512),o=n(2466),i=n(6550),s=n(469),l=n(1980),c=n(7392),d=n(12);function h(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}(n);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:n}=e;const r=(0,i.k6)(),o=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l._X)(o),(0,a.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(r.location.search);t.set(o,e),r.replace({...r.location,search:t.toString()})}),[o,r])]}function m(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,o=u(e),[i,l]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:o}))),[c,h]=f({queryString:n,groupId:r}),[m,b]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,o]=(0,d.Nk)(n);return[r,(0,a.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:r}),x=(()=>{const e=c??m;return p({value:e,tabValues:o})?e:null})();(0,s.Z)((()=>{x&&l(x)}),[x]);return{selectedValue:i,selectValue:(0,a.useCallback)((e=>{if(!p({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),b(e)}),[h,b,o]),tabValues:o}}var b=n(2389);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=n(5893);function k(e){let{className:t,block:n,selectedValue:a,selectValue:i,tabValues:s}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.o5)(),d=e=>{const t=e.currentTarget,n=l.indexOf(t),r=s[n].value;r!==a&&(c(t),i(r))},h=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},t),children:s.map((e=>{let{value:t,label:n,attributes:o}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:a===t?0:-1,"aria-selected":a===t,ref:e=>l.push(e),onKeyDown:h,onClick:d,...o,className:(0,r.Z)("tabs__item",x.tabItem,o?.className,{"tabs__item--active":a===t}),children:n??t},t)}))})}function j(e){let{lazy:t,children:n,selectedValue:r}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===r));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:o.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==r})))})}function y(e){const t=m(e);return(0,g.jsxs)("div",{className:(0,r.Z)("tabs-container",x.tabList),children:[(0,g.jsx)(k,{...e,...t}),(0,g.jsx)(j,{...e,...t})]})}function w(e){const t=(0,b.Z)();return(0,g.jsx)(y,{...e,children:h(e.children)},String(t))}},9578:(e,t,n)=>{n.d(t,{Z:()=>a});const a={heroBanner:"heroBanner_UJJx",buttons:"buttons_pzbO",features:"features_keug",featureImage:"featureImage_yA8i",featureLink:"featureLink_rhf2"}},1151:(e,t,n)=>{n.d(t,{Z:()=>s,a:()=>i});var a=n(7294);const r={},o=a.createContext(r);function i(e){const t=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(o.Provider,{value:t},e.children)}}}]);