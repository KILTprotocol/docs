---
id: dip-user
title: User
---



For an account to take advantage of DIP it needs a decentralized identity (DID) and to create a transaction on the provider chain to generate a cross-chain identity commitment.


There are two tools to help you do this.
A DIP SDK function or the KILT DID utilities library.

## Prerequisites

Both require the following environment variables:




- `RELAY_WS_ADDRESS`: The endpoint address of the relay chain.
- `PROVIDER_WS_ADDRESS`: The endpoint address of the DIP provider chain.
- `SUBMITTER_ADDRESS`: The address (encoded with the target chain network prefix `38`) authorized to submit the transaction on the target chain.
- `ENCODED_CALL`: The HEX-encoded call to DID-sign.
- `DID_URI`: The URI of the DID authorizing the operation
- `VERIFICATION_METHOD`: The verification method of the DID key to use. Because the script is not able to automatically derive the DID key required to sign the call on the target chain, it has to be explicitly set with this variable. Example values are `authentication`, `assertionMethod`, and `capabilityDelegation`.

And the following optional environment variables:

- `IDENTITY_DETAILS`: The runtime type definition of the identity details stored on the consumer chain, according to the DIP protocol. It defaults to `Option<u128>`, which represents a simple (optional) nonce value.
- `ACCOUNT_ID`: The runtime type definition of account address on the consumer chain. It defaults to `AccountId32`, which is the default of most Substrate-based chains. Some chains might use `AccountId20`.
- `INCLUDE_WEB3NAME` (default: `false`): Whether the web3name of the DID should be added to the DIP proof. Values can be anything that is truthy in JS terms.

    **The proof generation fails if this value is `true` but the DID does not have a web3name.**

- `DIP_PROOF_VERSION`: The version of the DIP proof to generate and use as part of the extrinsic. It defaults to `0`.


## Using the DIP SDK

TBD

## Using the KILT DID utilities library

Clone the KILT DID utilities library and install its dependencies:

```shell
git clone https://github.com/KILTprotocol/kilt-did-utilities.git
yarn install
```

Set the environment variables above and run the command:

```shell
yarn dip-sign:sibling
```

Copy the signature and block number generated that you need to submit via [PolkadotJS Apps][https://polkadot.js.org/apps/] as part of the DIP transaction submission process, using the account specified in `SUBMITTER_ADDRESS`.


This script signs any valid HEX-encoded call of the parent relaychain with the right key re-generated from the provided seedling information, i.e., either with the provided mnemonic, or with the provided combination of base mnemonic and derivation path.

Valid HEX-encoded calls can be generated by interacting with [PolkadotJS Apps][polkadot-apps] under the `Developer > Extrinsics` menu.
 Once the right call (i.e., the right pallet and right method) with the right parameters has been specified, the HEX-encoded value under `encoded call data` can be copied and passed as parameter to this script.














- `RELAY_WS_ADDRESS`: ws://127.0.0.1:30011
 - `PROVIDER_WS_ADDRESS`: wss://peregrine.kilt.io
 - `SUBMITTER_ADDRESS`: The address (encoded with the target chain network prefix `38`) that is authorized to submit the transaction on the target chain.
 - `ENCODED_CALL`: The HEX-encoded call to DID-sign.
 - `DID_URI`: did:kilt:4oHaW2GpZzPH2pspkgUjiJK577ndzW3KcbohdtexE7kQ94RY
 - `VERIFICATION_METHOD`: The verification method of the DID key to use. Because this script is not able to automatically derive the DID key required to sign the call on the target chain, it has to be explicitely set with this variable. Example values are `authentication`, `assertionMethod`, and `capabilityDelegation`.

Sporran - auth